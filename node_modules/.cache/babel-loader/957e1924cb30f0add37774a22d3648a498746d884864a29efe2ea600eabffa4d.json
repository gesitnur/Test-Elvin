{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nvar _require = require('preact'),\n  h = _require.h,\n  Component = _require.Component;\nvar AddFiles = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AddFiles, _Component);\n  function AddFiles() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.triggerFileInputClick = function () {\n      _this.fileInput.click();\n    };\n    _this.triggerFolderInputClick = function () {\n      _this.folderInput.click();\n    };\n    _this.onFileInputChange = function (event) {\n      _this.props.handleInputChange(event); // We clear the input after a file is selected, because otherwise\n      // change event is not fired in Chrome and Safari when a file\n      // with the same name is selected.\n      // ___Why not use value=\"\" on <input/> instead?\n      //    Because if we use that method of clearing the input,\n      //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n\n      event.target.value = null;\n    };\n    _this.renderHiddenInput = function (isFolder, refCallback) {\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        webkitdirectory: isFolder,\n        type: \"file\",\n        name: \"files[]\",\n        multiple: _this.props.maxNumberOfFiles !== 1,\n        onChange: _this.onFileInputChange,\n        accept: _this.props.allowedFileTypes,\n        ref: refCallback\n      });\n    };\n    _this.renderMyDeviceAcquirer = function () {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MyDevice\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: _this.triggerFileInputClick\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, h(\"rect\", {\n        className: \"uppy-ProviderIconBg\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\",\n        fill: \"#2275D7\"\n      }), h(\"path\", {\n        d: \"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z\",\n        fill: \"#FFF\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, _this.props.i18n('myDevice'))));\n    };\n    _this.renderBrowseButton = function (text, onClickFn) {\n      var numberOfAcquirers = _this.props.acquirers.length;\n      return h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-Dashboard-browse\",\n        onClick: onClickFn,\n        \"data-uppy-super-focusable\": numberOfAcquirers === 0\n      }, text);\n    };\n    _this.renderDropPasteBrowseTagline = function () {\n      var numberOfAcquirers = _this.props.acquirers.length; // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n      // to Camel\n\n      var lowerFMSelectionType = _this.props.fileManagerSelectionType;\n      var camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1); // For backwards compatibility, we need to support both 'browse' and 'browseFiles'/'browseFolders' as strings here.\n\n      var browseText = 'browse';\n      var browseFilesText = 'browse';\n      var browseFoldersText = 'browse';\n      if (lowerFMSelectionType === 'files') {\n        try {\n          browseText = _this.props.i18n('browse');\n          browseFilesText = _this.props.i18n('browse');\n          browseFoldersText = _this.props.i18n('browse');\n        } catch (_unused) {// Ignore, hopefully we can use the 'browseFiles' / 'browseFolders' strings\n        }\n      }\n      try {\n        browseFilesText = _this.props.i18n('browseFiles');\n        browseFoldersText = _this.props.i18n('browseFolders');\n      } catch (_unused2) {// Ignore, use the 'browse' string\n      }\n      var browse = _this.renderBrowseButton(browseText, _this.triggerFileInputClick);\n      var browseFiles = _this.renderBrowseButton(browseFilesText, _this.triggerFileInputClick);\n      var browseFolders = _this.renderBrowseButton(browseFoldersText, _this.triggerFolderInputClick); // Before the `fileManagerSelectionType` feature existed, we had two possible\n      // strings here, but now we have six. We use the new-style strings by default:\n\n      var titleText;\n      if (numberOfAcquirers > 0) {\n        titleText = _this.props.i18nArray(\"dropPasteImport\" + camelFMSelectionType, {\n          browseFiles: browseFiles,\n          browseFolders: browseFolders,\n          browse: browse\n        });\n      } else {\n        titleText = _this.props.i18nArray(\"dropPaste\" + camelFMSelectionType, {\n          browseFiles: browseFiles,\n          browseFolders: browseFolders,\n          browse: browse\n        });\n      } // We use the old-style strings if available: this implies that the user has\n      // manually specified them, so they should take precedence over the new-style\n      // defaults.\n\n      if (lowerFMSelectionType === 'files') {\n        try {\n          if (numberOfAcquirers > 0) {\n            titleText = _this.props.i18nArray('dropPasteImport', {\n              browse: browse\n            });\n          } else {\n            titleText = _this.props.i18nArray('dropPaste', {\n              browse: browse\n            });\n          }\n        } catch (_unused3) {// Ignore, the new-style strings will be used.\n        }\n      }\n      if (_this.props.disableLocalFiles) {\n        titleText = _this.props.i18n('importFiles');\n      }\n      return h(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-title\"\n      }, titleText);\n    };\n    _this.renderAcquirer = function (acquirer) {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": acquirer.id\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"aria-controls\": \"uppy-DashboardContent-panel--\" + acquirer.id,\n        \"aria-selected\": _this.props.activePickerPanel.id === acquirer.id,\n        \"data-uppy-super-focusable\": true,\n        onClick: function onClick() {\n          return _this.props.showPanel(acquirer.id);\n        }\n      }, acquirer.icon(), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, acquirer.name)));\n    };\n    _this.renderAcquirers = function (acquirers, disableLocalFiles) {\n      // Group last two buttons, so we donâ€™t end up with\n      // just one button on a new line\n      var acquirersWithoutLastTwo = [].concat(acquirers);\n      var lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);\n      return h(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-list\",\n        role: \"tablist\"\n      }, !disableLocalFiles && _this.renderMyDeviceAcquirer(), acquirersWithoutLastTwo.map(function (acquirer) {\n        return _this.renderAcquirer(acquirer);\n      }), h(\"span\", {\n        role: \"presentation\",\n        style: \"white-space: nowrap;\"\n      }, lastTwoAcquirers.map(function (acquirer) {\n        return _this.renderAcquirer(acquirer);\n      })));\n    };\n    return _this;\n  }\n  var _proto = AddFiles.prototype;\n  _proto.renderPoweredByUppy = function renderPoweredByUppy() {\n    var uppyBranding = h(\"span\", null, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-Dashboard-poweredByIcon\",\n      width: \"11\",\n      height: \"11\",\n      viewBox: \"0 0 11 11\"\n    }, h(\"path\", {\n      d: \"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\",\n      fillRule: \"evenodd\"\n    })), h(\"span\", {\n      className: \"uppy-Dashboard-poweredByUppy\"\n    }, \"Uppy\")); // Support both the old word-order-insensitive string `poweredBy` and the new word-order-sensitive string `poweredBy2`\n\n    var linkText = this.props.i18nArray('poweredBy2', {\n      backwardsCompat: this.props.i18n('poweredBy'),\n      uppy: uppyBranding\n    });\n    return h(\"a\", {\n      tabIndex: \"-1\",\n      href: \"https://uppy.io\",\n      rel: \"noreferrer noopener\",\n      target: \"_blank\",\n      className: \"uppy-Dashboard-poweredBy\"\n    }, linkText);\n  };\n  _proto.render = function render() {\n    var _this2 = this;\n    return h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles\"\n    }, this.renderHiddenInput(false, function (ref) {\n      _this2.fileInput = ref;\n    }), this.renderHiddenInput(true, function (ref) {\n      _this2.folderInput = ref;\n    }), this.renderDropPasteBrowseTagline(), this.props.acquirers.length > 0 && this.renderAcquirers(this.props.acquirers, this.props.disableLocalFiles), h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles-info\"\n    }, this.props.note && h(\"div\", {\n      className: \"uppy-Dashboard-note\"\n    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)));\n  };\n  return AddFiles;\n}(Component);\nmodule.exports = AddFiles;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}