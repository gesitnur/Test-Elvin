{"ast":null,"code":"// import 'uppy/dist/uppy.min.css'\n\n// import {\n//   Core,\n// } from 'uppy'\n\nimport Uppy from '@uppy/core';\nimport FileInput from '@uppy/file-input';\nimport ThumbnailGenerator from '@uppy/thumbnail-generator';\nimport ProgressBar from '@uppy/progress-bar';\nimport Informer from '@uppy/informer';\n// const Dashboard = require(\"@uppy/dashboard\")\nvar XHRUpload = require(\"@uppy/xhr-upload\");\nvar GoogleDrive = require(\"@uppy/google-drive\");\nuppy.on('.uppy-FileInput-input', function (file) {\n  // uppy.emit(\"file-editor:start\", (file) => {\n  // });\n  // uppy.getPlugin('Dashboard').openFileEditor(file)\n  // uppy.openFileEditor(file)\n  console.log('Added file', file);\n});\n\n// function fileUpload(fileInput) {\n//   console.log('aa');\n//   const hiddenInput = document.querySelector('.upload-data'),\n//         filePreview = document.querySelector('.file-preview'),\n//         form = $(fileInput).parents('form'),\n//         submitButton = document.getElementById('button-form-uppy'),\n//         formGroup = fileInput.parentNode;\n//   var attachment_url    = window.location.origin + $('#attachment_url').data('url');\n\n//   var authenticity_token = $('meta[name=\"csrf-token\"]').attr('content');\n//   var compiledToken, compiledLink;\n\n//   if (attachment_url.includes('?')) {\n//     compiledToken = `&authenticity_token=${authenticity_token}`\n//   } else {\n//     compiledToken = `?authenticity_token=${authenticity_token}`\n//   }\n\n//   // compiledLink = `${attachment_url}${compiledToken}`;\n\n//   // // remove our file input in favour of Uppy's\n//   // formGroup.removeChild(fileInput)\n\n//   const uppy = new Uppy({\n//       autoProceed: true,\n//     })\n//     // .use(FileInput, {\n//     //   target: formGroup,\n//     // })\n//     // .use(Informer, {\n//     //   target: formGroup,\n//     // })\n//     // .use(ProgressBar, {\n//     //   target: filePreview.parentNode,\n//     // })\n//     // .use(XHRUpload, {\n//     //   fieldName: 'files[]',\n//     // })\n\n//   uppy.on('upload-success', (file, response) => {\n//     $('.file-preview').append(response.body.files_previews);\n//   });\n\n//   // uppy.on('upload-error', (file, error, response) => {\n//   //   submitButton.removeAttribute(\"disabled\")\n//   //   submitButton.innerHTML = \"Save\"\n//   // })\n// }\n\nexport default fileUpload;","map":{"version":3,"names":["Uppy","FileInput","ThumbnailGenerator","ProgressBar","Informer","XHRUpload","require","GoogleDrive","uppy","on","file","console","log","fileUpload"],"sources":["/home/gesit/Documents/Project/elvin/app/javascript/packs/fileMultiUpload.js"],"sourcesContent":["// import 'uppy/dist/uppy.min.css'\n\n// import {\n//   Core,\n// } from 'uppy'\n\nimport Uppy from '@uppy/core'\nimport FileInput from '@uppy/file-input'\nimport ThumbnailGenerator from '@uppy/thumbnail-generator'\nimport ProgressBar from '@uppy/progress-bar'\nimport Informer from '@uppy/informer'\n// const Dashboard = require(\"@uppy/dashboard\")\nconst XHRUpload = require(\"@uppy/xhr-upload\")\nconst GoogleDrive = require(\"@uppy/google-drive\")\n\nuppy.on('.uppy-FileInput-input', (file) => {\n        // uppy.emit(\"file-editor:start\", (file) => {\n        // });\n        // uppy.getPlugin('Dashboard').openFileEditor(file)\n        // uppy.openFileEditor(file)\n        console.log('Added file', file)\n})\n\n// function fileUpload(fileInput) {\n//   console.log('aa');\n//   const hiddenInput = document.querySelector('.upload-data'),\n//         filePreview = document.querySelector('.file-preview'),\n//         form = $(fileInput).parents('form'),\n//         submitButton = document.getElementById('button-form-uppy'),\n//         formGroup = fileInput.parentNode;\n//   var attachment_url    = window.location.origin + $('#attachment_url').data('url');\n\n//   var authenticity_token = $('meta[name=\"csrf-token\"]').attr('content');\n//   var compiledToken, compiledLink;\n\n//   if (attachment_url.includes('?')) {\n//     compiledToken = `&authenticity_token=${authenticity_token}`\n//   } else {\n//     compiledToken = `?authenticity_token=${authenticity_token}`\n//   }\n\n//   // compiledLink = `${attachment_url}${compiledToken}`;\n\n//   // // remove our file input in favour of Uppy's\n//   // formGroup.removeChild(fileInput)\n\n//   const uppy = new Uppy({\n//       autoProceed: true,\n//     })\n//     // .use(FileInput, {\n//     //   target: formGroup,\n//     // })\n//     // .use(Informer, {\n//     //   target: formGroup,\n//     // })\n//     // .use(ProgressBar, {\n//     //   target: filePreview.parentNode,\n//     // })\n//     // .use(XHRUpload, {\n//     //   fieldName: 'files[]',\n//     // })\n\n//   uppy.on('upload-success', (file, response) => {\n//     $('.file-preview').append(response.body.files_previews);\n//   });\n\n//   // uppy.on('upload-error', (file, error, response) => {\n//   //   submitButton.removeAttribute(\"disabled\")\n//   //   submitButton.innerHTML = \"Save\"\n//   // })\n// }\n\nexport default fileUpload\n"],"mappings":"AAAA;;AAEA;AACA;AACA;;AAEA,OAAOA,IAAI,MAAM,YAAY;AAC7B,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,kBAAkB,MAAM,2BAA2B;AAC1D,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,OAAOC,QAAQ,MAAM,gBAAgB;AACrC;AACA,IAAMC,SAAS,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAC7C,IAAMC,WAAW,GAAGD,OAAO,CAAC,oBAAoB,CAAC;AAEjDE,IAAI,CAACC,EAAE,CAAC,uBAAuB,EAAE,UAACC,IAAI,EAAK;EACnC;EACA;EACA;EACA;EACAC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,IAAI,CAAC;AACvC,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAeG,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}