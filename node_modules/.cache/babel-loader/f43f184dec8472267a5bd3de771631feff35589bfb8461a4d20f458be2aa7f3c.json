{"ast":null,"code":"import \"../stylesheets/application.scss\";\nimport \"vanilla-nested\";\n// import \"./fileMultiUpload.js\";\n\nimport Uppy from '@uppy/core';\n// window.Uppy = require('@uppy/core')\n// import FileInput from '@uppy/file-input'\n// import ThumbnailGenerator from '@uppy/thumbnail-generator'\n// import ProgressBar from '@uppy/progress-bar'\n// import Informer from '@uppy/informer'\n// // const Dashboard = require(\"@uppy/dashboard\")\n// const XHRUpload = require(\"@uppy/xhr-upload\")\n// const GoogleDrive = require(\"@uppy/google-drive\")\ndocument.addEventListener('DOMContentLoaded', function () {\n  var startUppy = function startUppy() {\n    var fileInput = document.querySelector('#my-file-input');\n    console.log('-----a-------------');\n    console.log(fileInput);\n    console.log('-----a-------------');\n    var uppy = new Uppy();\n    uppy.use(fileInput, {\n      target: 'body',\n      locale: {\n        strings: {\n          selectToUpload: 'Выберите файл для загрузки'\n        }\n      }\n    });\n    uppy.on(\"upload-success\", function (file, body) {\n      uppy.setFileState(file.id, {\n        xhr: Object.assign({}, file, {\n          uploadURL: body[\"uploadURL\"],\n          signedId: body[\"signedId\"]\n        })\n      });\n    });\n    uppy.on(\"complete\", function (result) {\n      result.successful.forEach(function (file) {\n        insertImageSignedId(form, input, file.xhr.signedId);\n      });\n    });\n  };\n  startUppy();\n});\n\n// Uppy.on('.uppy-FileInput-input', (file) => {\n//         // uppy.emit(\"file-editor:start\", (file) => {\n//         // });\n//         // uppy.getPlugin('Dashboard').openFileEditor(file)\n//         // uppy.openFileEditor(file)\n//         console.log('Added file', file)\n// })\n\n// import Dashboard from '@uppy/dashboard'\n\n// document.addEventListener('DOMContentLoaded', () => {\n//   document.querySelectorAll('.upload-multi-file').forEach(docInput => {\n//     fileMultiUpload(docInput);\n//   });\n// });","map":{"version":3,"names":["Uppy","document","addEventListener","startUppy","fileInput","querySelector","console","log","uppy","use","target","locale","strings","selectToUpload","on","file","body","setFileState","id","xhr","Object","assign","uploadURL","signedId","result","successful","forEach","insertImageSignedId","form","input"],"sources":["/home/gesit/Documents/Project/elvin/app/javascript/packs/application.js"],"sourcesContent":["import \"../stylesheets/application.scss\";\nimport \"vanilla-nested\";\n// import \"./fileMultiUpload.js\";\n\n\nimport Uppy from '@uppy/core'\n// window.Uppy = require('@uppy/core')\n// import FileInput from '@uppy/file-input'\n// import ThumbnailGenerator from '@uppy/thumbnail-generator'\n// import ProgressBar from '@uppy/progress-bar'\n// import Informer from '@uppy/informer'\n// // const Dashboard = require(\"@uppy/dashboard\")\n// const XHRUpload = require(\"@uppy/xhr-upload\")\n// const GoogleDrive = require(\"@uppy/google-drive\")\ndocument.addEventListener('DOMContentLoaded', () => {\nconst startUppy = () => {\n  var fileInput = document.querySelector('#my-file-input')\n  console.log('-----a-------------');\n  console.log(fileInput);\n  console.log('-----a-------------');\n  const uppy = new Uppy()\n\n  uppy.use(fileInput, {\n    target: 'body',\n    locale: {\n      strings: { selectToUpload: 'Выберите файл для загрузки' },\n    },\n  })\n\n  uppy.on(\"upload-success\", (file, body) => {\n    uppy.setFileState(file.id, {\n      xhr: Object.assign({}, file, {\n        uploadURL: body[\"uploadURL\"],\n        signedId: body[\"signedId\"]\n      })\n    })\n  })\n\n  uppy.on(\"complete\", result => {\n    result.successful.forEach(file => {\n      insertImageSignedId(form, input, file.xhr.signedId)\n    })\n  })\n}\nstartUppy()\n});\n\n// Uppy.on('.uppy-FileInput-input', (file) => {\n//         // uppy.emit(\"file-editor:start\", (file) => {\n//         // });\n//         // uppy.getPlugin('Dashboard').openFileEditor(file)\n//         // uppy.openFileEditor(file)\n//         console.log('Added file', file)\n// })\n\n\n// import Dashboard from '@uppy/dashboard'\n\n\n\n// document.addEventListener('DOMContentLoaded', () => {\n//   document.querySelectorAll('.upload-multi-file').forEach(docInput => {\n//     fileMultiUpload(docInput);\n//   });\n// });\n"],"mappings":"AAAA,OAAO,iCAAiC;AACxC,OAAO,gBAAgB;AACvB;;AAGA,OAAOA,IAAI,MAAM,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EACpD,IAAMC,SAAS,GAAG,SAAZA,SAAS,GAAS;IACtB,IAAIC,SAAS,GAAGH,QAAQ,CAACI,aAAa,CAAC,gBAAgB,CAAC;IACxDC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IAClCD,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;IACtBE,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IAClC,IAAMC,IAAI,GAAG,IAAIR,IAAI,EAAE;IAEvBQ,IAAI,CAACC,GAAG,CAACL,SAAS,EAAE;MAClBM,MAAM,EAAE,MAAM;MACdC,MAAM,EAAE;QACNC,OAAO,EAAE;UAAEC,cAAc,EAAE;QAA6B;MAC1D;IACF,CAAC,CAAC;IAEFL,IAAI,CAACM,EAAE,CAAC,gBAAgB,EAAE,UAACC,IAAI,EAAEC,IAAI,EAAK;MACxCR,IAAI,CAACS,YAAY,CAACF,IAAI,CAACG,EAAE,EAAE;QACzBC,GAAG,EAAEC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEN,IAAI,EAAE;UAC3BO,SAAS,EAAEN,IAAI,CAAC,WAAW,CAAC;UAC5BO,QAAQ,EAAEP,IAAI,CAAC,UAAU;QAC3B,CAAC;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;IAEFR,IAAI,CAACM,EAAE,CAAC,UAAU,EAAE,UAAAU,MAAM,EAAI;MAC5BA,MAAM,CAACC,UAAU,CAACC,OAAO,CAAC,UAAAX,IAAI,EAAI;QAChCY,mBAAmB,CAACC,IAAI,EAAEC,KAAK,EAAEd,IAAI,CAACI,GAAG,CAACI,QAAQ,CAAC;MACrD,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EACDpB,SAAS,EAAE;AACX,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAIA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}